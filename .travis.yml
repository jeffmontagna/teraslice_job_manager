language: node_js
node_js:
- '8'
after_success:
- yarn lint || echo "Let's show the lint output here but we don't want it cause a failure yet"
- yarn report-coverage
deploy:
  provider: npm
  email: peter@terascope.io
  api_key:
    secure: "g0lq/5yoFlG4anF+qGyeMFeSr0ukB3nOgeSSnqu7D1tuWzR36olAPv3TZw142kaD+V8AtT3Lwu852N6P7Q1BaF9y3LHFWaaH+s3446mdcXrzsGDpfQVLQh0r9AVw5UNjRD+Doi1nY3becE550b+Xj7Kjix3uj/8irsD3rVauPtC59MZel1heqhARmxxcPB9/lvfIZR5n8Np60oDENIy1BbzJR/UsxzLVTJa2E6Hh7JqK0lM9HkQVesuG85AIsNJlx9CKj1oEVrToqAMzRCCS3DBxUBv3pSrUf6qqk1y4+DVsxyABK941LVKXVvvluk3OUT31G+cHvIH4sPNPkjzjolvwzD6UL8v0sV4JjZdoLTshpMa9jV8tRA2H9utWPZctUuhwETVuIPaQcRqu2Dluznhp03tUsewI+8iMJCFvv3br1ECWEvJ1MjgarpuUcz7n+vY0Tmff+0Tw9t6npmQL1ciIgvnSm7AR1KlQMuTwpSylrxOiWeyBw2Z/jWoHQFuFI29mp/KaW81A01fRu/LkLIDYrLK9uYrY6QmglD+gp/hs720T4vBN4wLE3OzhzGvYaszLpq+PazGeN5KUyJ5KS26hstM9u0IEqwH39MPdR0rcstXFgtOLupMO/s3vsZDdqW1PD6/ESjwVs2cR7iGM1Tm6ZNBDoMX9LeFlxePgLFc="
  on:
    branch: master
    tags: true
    condition: $TRAVIS_TAG =~ ^v[0-9]+\.[0-9]+\.[0-9]+
    repo: terascope/teraslice_job_manager
